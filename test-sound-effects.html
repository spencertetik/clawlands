<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sound Effects Test - Claw World</title>
    <style>
        body {
            font-family: monospace;
            max-width: 800px;
            margin: 40px auto;
            background: #0d0806;
            color: #fbbf24;
            padding: 20px;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        .sound-button {
            background: #1e40af;
            color: white;
            border: 2px solid #3b82f6;
            padding: 15px;
            border-radius: 6px;
            cursor: pointer;
            font-family: monospace;
            font-size: 14px;
            transition: background 0.2s;
        }
        .sound-button:hover {
            background: #3b82f6;
        }
        .sound-button:active {
            background: #1d4ed8;
        }
        .info {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid #3b82f6;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        .volume-control {
            margin: 20px 0;
        }
        .volume-slider {
            width: 200px;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>ğŸ”Š Claw World Sound Effects Test</h1>
    
    <div class="info">
        <strong>Instructions:</strong> Click the buttons below to test each sound effect. 
        The sound system initializes on first user interaction (Chrome autoplay policy).
    </div>
    
    <div class="volume-control">
        <label>Volume: 
            <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="0.3">
            <span id="volumeDisplay">30%</span>
        </label>
    </div>
    
    <div class="test-grid">
        <button class="sound-button" onclick="testSound('pickup')">
            ğŸµ Pickup<br>
            <small>Item collected</small>
        </button>
        
        <button class="sound-button" onclick="testSound('door_enter')">
            ğŸšª Door Enter<br>
            <small>Enter building</small>
        </button>
        
        <button class="sound-button" onclick="testSound('door_exit')">
            ğŸšª Door Exit<br>
            <small>Exit building</small>
        </button>
        
        <button class="sound-button" onclick="testSound('dialog_open')">
            ğŸ’¬ Dialog Open<br>
            <small>Start conversation</small>
        </button>
        
        <button class="sound-button" onclick="testSound('dialog_advance')">
            ğŸ’¬ Dialog Advance<br>
            <small>Next dialog page</small>
        </button>
        
        <button class="sound-button" onclick="testSound('quest_complete')">
            ğŸ† Quest Complete<br>
            <small>Quest finished</small>
        </button>
        
        <button class="sound-button" onclick="testSound('notification')">
            ğŸ”” Notification<br>
            <small>General alert</small>
        </button>
        
        <button class="sound-button" onclick="testSound('bulletin_read')">
            ğŸ“‹ Bulletin Read<br>
            <small>Paper rustling</small>
        </button>
    </div>
    
    <div class="info">
        <strong>Implementation Details:</strong><br>
        â€¢ All sounds generated procedurally using Web Audio API<br>
        â€¢ No external audio files required<br>
        â€¢ Retro/pixel-art style (SNES/GBA inspired)<br>
        â€¢ Short duration (100-500ms) to not interrupt gameplay<br>
        â€¢ Volume-controllable and respects Chrome autoplay policy
    </div>

    <script src="client/js/audio/SoundEffects.js"></script>
    <script>
        // Initialize sound effects system
        const sfx = new SoundEffects();
        
        // Volume control
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeDisplay = document.getElementById('volumeDisplay');
        
        volumeSlider.addEventListener('input', () => {
            const volume = parseFloat(volumeSlider.value);
            sfx.setVolume(volume);
            volumeDisplay.textContent = Math.round(volume * 100) + '%';
        });
        
        // Test function
        function testSound(effectName) {
            console.log('ğŸ”Š Testing sound:', effectName);
            sfx.play(effectName);
        }
        
        // Initialize volume
        sfx.setVolume(0.3);
    </script>
</body>
</html>